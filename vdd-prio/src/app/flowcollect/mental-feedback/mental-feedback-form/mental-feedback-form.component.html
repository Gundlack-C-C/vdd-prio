<div class="card">
  <div class="card-header bg-dark">
    <div class="align-self-center">
      <ngb-pagination [collectionSize]="4" [(page)]="page" [pageSize]="1" class="align-self-center">
        <ng-template ngbPaginationNumber let-p>{{ getPageSymbol(p) }}</ng-template>
      </ngb-pagination>
    </div>
  </div>
  <div class="card-body" *ngIf="page==1">
    <p>
      Sehr geehrter Mitarbeiter,
      wir legen großen Wert auf ihre mentale Gesundheit. Mit FlowCollect® bieten wir Ihnen die Möglichkeit ihre mentalen Belastungen anonym zu kommunizieren, sodass wir den Bedarf an psychologischer Beratung und Coachings in unserem Unternehmen erkennen und dafür ein entsprechendes Budget zur Verfügung stellen können. Über FlowCollect® erhalten Sie dann einen kostenlosen Zugang zu einem Therapeuten oder Coach ihrer Wahl. So können Sie ihren individuellen Konflikt mit professioneller Unterstützung bewältigen und gleichzeitig etwas für ihr mentales Wohlbefinden tun. 100% Anonym.
    </p>
    <button class="btn btn-primary" (click)="page=2">Start</button>
  </div>
  <div *ngFor="let item of items; index as i" class="card-body p-2" [class.d-none]="i + 2 !== page">
    <div>
      <h5>{{item.label}}</h5>
    </div>
    <div *ngif="item.description.length">
      {{item.description}}
    </div>
    <div>
      <app-prio-const-sum [items]="item.items" [maxSum]="item.constSum" (onPrioChanged)="handlePrioChanged($event, i)"></app-prio-const-sum>
    </div>
  </div>
  <div class="card-body" *ngIf="page==4">
    <div *ngIf="prio.length < 2" cass="card-body">
      <div class="alert alert-warning">
        Bitte schließe alle Formulare ab!<br>Erst dann können wir dir deine Auswertung zeigen.
      </div>
    </div>
    <div *ngIf="prio.length == 2" cass="card-body">
      <div *ngFor="let item of items; index as i" class="card">
        <div class="card-header">
          <div>
            <h5>{{item.label}}</h5>
          </div>
          <div *ngif="item.description.length">
            {{item.description}}
          </div>
        </div>
        <div class="card-body">
          <app-prio-barchart [prio]="getPrioGraphData(i)"></app-prio-barchart>
        </div>
      </div>
      {{prio | json}}
    </div>
  </div>

</div>
